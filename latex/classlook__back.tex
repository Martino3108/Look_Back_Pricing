\doxysection{look\+\_\+back Class Reference}
\hypertarget{classlook__back}{}\label{classlook__back}\index{look\_back@{look\_back}}


Monte Carlo pricer for lookback options.  




{\ttfamily \+\#include $<$Look\+\_\+\+Back.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\doxymbox{\hyperlink{classlook__back_ad0d5bed4b489d2fc70f18237e76709da}{look\+\_\+back}} (double S0, \doxymbox{\hyperlink{struct_date}{Date}} value\+\_\+date, \doxymbox{\hyperlink{struct_date}{Date}} maturity\+\_\+date, double sigma, double interest\+\_\+rate, char option, double h, \doxymbox{\hyperlink{_date___dealing_8h_aa00d31f388138ee974de37f288651cd0}{Day\+Count\+Conv}} ddc=\doxymbox{\hyperlink{_date___dealing_8h_aa00d31f388138ee974de37f288651cd0a1e03857ef538881f02f156179b6fd6e6}{Day\+Count\+Conv::\+\+ACT\+\_\+\+ACT\+\_\+\+ISDA}})
\begin{DoxyCompactList}\small\item\em Constructs a pricer instance and validates inputs. \end{DoxyCompactList}\item 
double \doxymbox{\hyperlink{classlook__back_a90ff491cedf7f3e0da2b46b266af7401}{price}} (double S, double sigma, double interest\+\_\+rate, double maturity, unsigned int N=5000000) const
\begin{DoxyCompactList}\small\item\em Prices a lookback option using Monte Carlo simulation. \end{DoxyCompactList}\item 
double \doxymbox{\hyperlink{classlook__back_a60298d1275643a61360ef21dacc1a858}{delta}} (double S) const
\begin{DoxyCompactList}\small\item\em Delta via central finite difference in spot. \end{DoxyCompactList}\item 
double \doxymbox{\hyperlink{classlook__back_a83cbcd6926997cce309d0c4940507c9d}{theta}} () const
\begin{DoxyCompactList}\small\item\em Theta via central finite difference in maturity (uses a 3-\/day bump). \end{DoxyCompactList}\item 
double \doxymbox{\hyperlink{classlook__back_a1d4b09aa09a7b4c1e2c1b12f46ec6590}{rho}} () const
\begin{DoxyCompactList}\small\item\em Rho via finite difference in interest rate (may switch to forward scheme). \end{DoxyCompactList}\item 
double \doxymbox{\hyperlink{classlook__back_a78cf8e87d0d68acc6e97097c8bf574ae}{vega}} () const
\begin{DoxyCompactList}\small\item\em Vega via finite difference in volatility (scaled by 0.\+01). \end{DoxyCompactList}\item 
double \doxymbox{\hyperlink{classlook__back_a33e6d5aa388e3d688f1fa2cafc68a92a}{gamma}} () const
\begin{DoxyCompactList}\small\item\em Gamma via second central finite difference in spot. \end{DoxyCompactList}\item 
std::\+array$<$ \doxymbox{\hyperlink{group___l_b___core_ga566a9f0c55e063e3cfee8a0981483be7}{vect}}, 2 $>$ \doxymbox{\hyperlink{classlook__back_a30b41da0f13f9a515fa0fd9f1357005d}{graphic\+\_\+price}} (double dx) const
\begin{DoxyCompactList}\small\item\em Generates (S, price(\+S)) points for plotting. \end{DoxyCompactList}\item 
std::\+array$<$ \doxymbox{\hyperlink{group___l_b___core_ga566a9f0c55e063e3cfee8a0981483be7}{vect}}, 2 $>$ \doxymbox{\hyperlink{classlook__back_af4106050b0d050645292027367ddeb91}{graphic\+\_\+delta}} (double dx) const
\begin{DoxyCompactList}\small\item\em Generates (S, delta(\+S)) points for plotting. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Monte Carlo pricer for lookback options. 

This class implements a Monte Carlo pricing algorithm for lookback options, where the payoff depends on the running maximum of the underlying process.

The pricing methodology follows the approach described in Stéphane Crépey (2013), Section 6.\+9, and is based on an exact simulation of the joint distribution of the discretized process and its running maximum.

Let $X_t$ denote the log-\/price process and $M_t = \sup_{0 \le s \le t} X_s$ its running maximum. The law of the maximum on each interval is sampled using an independent uniform random variable, as stated in Paragraph 6.\+9.\+1.\+1 Black–\+Scholes Case.

This approach significantly reduces the discretization bias typically encountered when approximating path-\/dependent extrema.

\begin{DoxyNote}{Note}
The numerical scheme implemented here is valid under the assumptions described in the reference (diffusion dynamics with continuous paths).
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
The Monte Carlo cost can be high, as the simulation of the running maximum is performed at each time step and for each path. 
\end{DoxyWarning}


\label{doc-constructors}
\Hypertarget{classlook__back_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlook__back_ad0d5bed4b489d2fc70f18237e76709da}\index{look\_back@{look\_back}!look\_back@{look\_back}}
\index{look\_back@{look\_back}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{look\_back()}{look\_back()}}
{\footnotesize\ttfamily \label{classlook__back_ad0d5bed4b489d2fc70f18237e76709da} 
look\+\_\+back::\+look\+\_\+back (\begin{DoxyParamCaption}\item[{double}]{S0}{, }\item[{\doxymbox{\hyperlink{struct_date}{Date}}}]{value\+\_\+date}{, }\item[{\doxymbox{\hyperlink{struct_date}{Date}}}]{maturity\+\_\+date}{, }\item[{double}]{sigma}{, }\item[{double}]{interest\+\_\+rate}{, }\item[{char}]{option}{, }\item[{double}]{h}{, }\item[{\doxymbox{\hyperlink{_date___dealing_8h_aa00d31f388138ee974de37f288651cd0}{Day\+Count\+Conv}}}]{ddc}{ = {\ttfamily \doxymbox{\hyperlink{_date___dealing_8h_aa00d31f388138ee974de37f288651cd0a1e03857ef538881f02f156179b6fd6e6}{Day\+Count\+Conv::\+\+ACT\+\_\+\+ACT\+\_\+\+ISDA}}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Constructs a pricer instance and validates inputs. 


\begin{DoxyParams}{Parameters}
{\em S0} & Initial spot. \\
\hline
{\em value\+\_\+date} & Valuation date. \\
\hline
{\em maturity\+\_\+date} & Maturity date. \\
\hline
{\em sigma} & Volatility. \\
\hline
{\em interest\+\_\+rate} & Risk-\/free rate (non-\/negative in this validator). \\
\hline
{\em option} & Option type (\textquotesingle{}c\textquotesingle{} call, \textquotesingle{}p\textquotesingle{} put). \\
\hline
{\em h} & Finite-\/difference step for Greeks. \\
\hline
{\em ddc} & Day-\/count convention used to compute time to maturity.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{class_invalid___parameters}{Invalid\+\_\+\+Parameters}} & if validation fails. \\
\hline
\end{DoxyExceptions}


\label{doc-func-members}
\Hypertarget{classlook__back_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classlook__back_a60298d1275643a61360ef21dacc1a858}\index{look\_back@{look\_back}!delta@{delta}}
\index{delta@{delta}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{delta()}{delta()}}
{\footnotesize\ttfamily \label{classlook__back_a60298d1275643a61360ef21dacc1a858} 
double look\+\_\+back::\+delta (\begin{DoxyParamCaption}\item[{double}]{S}{}\end{DoxyParamCaption}) const}



Delta via central finite difference in spot. 

\Hypertarget{classlook__back_a33e6d5aa388e3d688f1fa2cafc68a92a}\index{look\_back@{look\_back}!gamma@{gamma}}
\index{gamma@{gamma}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{gamma()}{gamma()}}
{\footnotesize\ttfamily \label{classlook__back_a33e6d5aa388e3d688f1fa2cafc68a92a} 
double look\+\_\+back::\+gamma (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Gamma via second central finite difference in spot. 

\Hypertarget{classlook__back_af4106050b0d050645292027367ddeb91}\index{look\_back@{look\_back}!graphic\_delta@{graphic\_delta}}
\index{graphic\_delta@{graphic\_delta}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{graphic\_delta()}{graphic\_delta()}}
{\footnotesize\ttfamily \label{classlook__back_af4106050b0d050645292027367ddeb91} 
std::\+array$<$ \doxymbox{\hyperlink{group___l_b___core_ga566a9f0c55e063e3cfee8a0981483be7}{vect}}, 2 $>$ look\+\_\+back::\+graphic\+\_\+delta (\begin{DoxyParamCaption}\item[{double}]{dx}{}\end{DoxyParamCaption}) const}



Generates (S, delta(\+S)) points for plotting. 

\Hypertarget{classlook__back_a30b41da0f13f9a515fa0fd9f1357005d}\index{look\_back@{look\_back}!graphic\_price@{graphic\_price}}
\index{graphic\_price@{graphic\_price}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{graphic\_price()}{graphic\_price()}}
{\footnotesize\ttfamily \label{classlook__back_a30b41da0f13f9a515fa0fd9f1357005d} 
std::\+array$<$ \doxymbox{\hyperlink{group___l_b___core_ga566a9f0c55e063e3cfee8a0981483be7}{vect}}, 2 $>$ look\+\_\+back::\+graphic\+\_\+price (\begin{DoxyParamCaption}\item[{double}]{dx}{}\end{DoxyParamCaption}) const}



Generates (S, price(\+S)) points for plotting. 

\Hypertarget{classlook__back_a90ff491cedf7f3e0da2b46b266af7401}\index{look\_back@{look\_back}!price@{price}}
\index{price@{price}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{price()}{price()}}
{\footnotesize\ttfamily \label{classlook__back_a90ff491cedf7f3e0da2b46b266af7401} 
double look\+\_\+back::\+price (\begin{DoxyParamCaption}\item[{double}]{S}{, }\item[{double}]{sigma}{, }\item[{double}]{interest\+\_\+rate}{, }\item[{double}]{maturity}{, }\item[{unsigned int}]{N}{ = {\ttfamily 5000000}}\end{DoxyParamCaption}) const}



Prices a lookback option using Monte Carlo simulation. 

The option price is computed as the discounted expectation of the payoff $\phi(X_T, M_T)$, where $M_T = \sup_{0 \le t \le T} X_t$.

The simulation of the pair $(X_T, M_T)$ follows the algorithm described in Stéphane Crépey (2013), Section 6.\+9, using an exact sampling of the running maximum on each time interval via an auxiliary uniform random variable.

This avoids the bias that would arise from approximating the maximum by discrete-\/time sampling alone.


\begin{DoxyParams}{Parameters}
{\em S} & Spot price at which the option is priced. \\
\hline
{\em sigma} & Volatility parameter. \\
\hline
{\em interest\+\_\+rate} & Risk-\/free interest rate. \\
\hline
{\em maturity} & Time to maturity (in years). \\
\hline
{\em N} & Number of Monte Carlo paths.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Discounted Monte Carlo estimate of the option price.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
Stéphane Crépey, "{}\+Financial Modeling:\+ A Backward Stochastic Differential Equations Perspective"{}, Section 6.\+9.
\end{DoxySeeAlso}
\begin{DoxyNote}{Note}
This implementation is a direct numerical realization of a published Monte Carlo method and does not claim originality with respect to the underlying mathematical results. 
\end{DoxyNote}
\Hypertarget{classlook__back_a1d4b09aa09a7b4c1e2c1b12f46ec6590}\index{look\_back@{look\_back}!rho@{rho}}
\index{rho@{rho}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{rho()}{rho()}}
{\footnotesize\ttfamily \label{classlook__back_a1d4b09aa09a7b4c1e2c1b12f46ec6590} 
double look\+\_\+back::\+rho (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Rho via finite difference in interest rate (may switch to forward scheme). 

\Hypertarget{classlook__back_a83cbcd6926997cce309d0c4940507c9d}\index{look\_back@{look\_back}!theta@{theta}}
\index{theta@{theta}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{theta()}{theta()}}
{\footnotesize\ttfamily \label{classlook__back_a83cbcd6926997cce309d0c4940507c9d} 
double look\+\_\+back::\+theta (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Theta via central finite difference in maturity (uses a 3-\/day bump). 

\Hypertarget{classlook__back_a78cf8e87d0d68acc6e97097c8bf574ae}\index{look\_back@{look\_back}!vega@{vega}}
\index{vega@{vega}!look\_back@{look\_back}}
\doxysubsubsection{\texorpdfstring{vega()}{vega()}}
{\footnotesize\ttfamily \label{classlook__back_a78cf8e87d0d68acc6e97097c8bf574ae} 
double look\+\_\+back::\+vega (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Vega via finite difference in volatility (scaled by 0.\+01). 



The documentation for this class was generated from the following files:\+\begin{DoxyCompactItemize}
\item 
\doxymbox{\hyperlink{_look___back_8h}{Look\+\_\+\+Back.\+h}}\item 
\doxymbox{\hyperlink{_look___back_8cpp}{Look\+\_\+\+Back.\+cpp}}\end{DoxyCompactItemize}
